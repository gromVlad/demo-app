<div *ngIf="isLoading$ | async">
  <p>Loading...</p>
</div>

<div *ngIf="error$ | async as error">
  <p>{{ error }}</p>
</div>

<div *ngIf="tasks$ | async as tasks">
  <ul>
    <li
      *ngFor="
        let task of tasks
          | taskStatusFilter : paramsFilterAndSortTasks.statusFilter
          | taskPerformerFilter : paramsFilterAndSortTasks.performerInputFilter
          | taskDeadlineFilter : paramsFilterAndSortTasks.deadlineFilter
          | taskPerformerSort : paramsFilterAndSortTasks.performerSort
          | taskDeadlineSort : paramsFilterAndSortTasks.deadlineSort
          | taskStatusSort: paramsFilterAndSortTasks.statusSort;
          trackBy: trackById
      "
    >
      {{ task.title }} - {{ task.description }} - {{ task.deadline | date: 'dd/MM/yyyy' }} -
      {{ task.priority }} - {{ task.status }} - {{ task.performers }}
      <a [routerLink]="['/task', task.id]">View</a>
      <button (click)="editTask(task)">Edit</button>
    </li>
  </ul>
</div>

<app-task-edit
  *ngIf="selectedTask"
  [task]="selectedTask"
  (taskEditClosed)="selectedTask = null"
></app-task-edit>
